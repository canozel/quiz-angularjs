<!DOCTYPE html>
<html ng-app="sinav">

  <head>
    <meta charset="utf-8">
    <link rel="icon" href="../../favicon.ico">
  
    <title>Online Sınav</title>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/0.8.3/angular-material.min.css">
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.js"></script>
    <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.12.1.js"></script>
    <script src="script.js"></script>
    <script src="time.js"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
  </head>
  
  <body ng-controller="sinavapp">
  
    <div class="container">
      <div class="panel panel-default">
        <div class="panel-heading">
          <img src="http://i.imgur.com/WNkXabA.png" width="250" height="30"></img>
          <span  class="pull-right">Kalan Süre : {{counter>0 ? counter : 0}} sn</span>
        </div>
        <div class="panel-body">
          <!--Navbar -->
  
          <h2>Bilgisayar Programcılığı  <small>Bilişim sistemleri online sınavı</small></h2>
          <hr>
          <div class="row">
            <!--Soru tabları  -->
            <div class="col-md-2">
              <div class="panel panel-default">
                <div class="panel-body">
                  <strong>Sorular</strong>
                  <div class="list-group" ng-init="currentTab = 0; class = false">
                    <a ng-repeat="question in questions " ng-class="{'list-group-item':true, 'active':(currentTab == question.id),
                                                                       'list-group-item-success':(answers[question.id]!= null),
                                                                       'list-group-item-warning':(answers[question.id] == null)}" ng-click="onClickTab(question)">
                      {{question.title}}
                      <span ng-class="{'glyphicon glyphicon-pencil':(currentTab == question.id)}" ></span>
                      <span ng-class="{'glyphicon glyphicon-ok-circle':(answers[question.id] != null) && (currentTab != question.id)}" ></span>
                      <span ng-class="{'glyphicon glyphicon-ban-circle':(answers[question.id]== null) && (currentTab != question.id)}"></span>
                      <!--span ng-class="{'glyphicon glyphicon-refresh':again}" ></span-->
                    </a>
                  </div>
                </div>
              </div>
            </div>
  
            <!--Soru içeriği  -->
            <div class="col-md-7">
              <div class="panel panel-default">
                <div class="panel-heading">{{questions[currentTab].title}}
                  <span class="glyphicon glyphicon-pencil"></span>
                  <input type="checkbox" ng-click="again()">Tekrardan gözat
                </div>
                <div class="panel-body">
                  <div class="tab-content">
                    <mark>{{questions[currentTab].question}}</mark>
                    <div class="radio" ng-repeat="option in (questions[currentTab].options)">
                      <label>
                        <input type="radio" name="option" ng-model="$parent.model" ng-change="selected($parent.model.id,currentTab)" ng-init="$index==answers[currentTab]?($parent.model=option):''" ng-value="option" />{{option.name}}
                      </label>
                    </div>
                  </div>
                </div>
  
                <nav>
                  <ul class="pager">
                    <li><a class="btn" ng-disabled="currentTab == 0" ng-click="onClickPB(currentTab)">Önceki Soru </a></li>
                    <li><a class="btn" ng-disabled="currentTab == questions.length -1"  ng-click="onClickNB(currentTab, questions.length)">Sonraki Soru</a>
                    </li>
                  </ul>
                </nav>
              </div>
            </div>
  
            <!--Sınav sonlandır  -->
            <div class="col-md-3">
              <div class="panel panel-default">
                <div class="panel-heading">Sınavı Sonlandır</div>
                <div class="panel-body">
                  <button type="button" class="btn btn-danger"><span class="glyphicon glyphicon-eye-open"></span> Sınavı Gözden Geçir ve Bitir</button>
                  <hr>
                    <!--modal-->
                  <script type="text/ng-template" id="myModalContent.html">
                    <div class="modal-header">
                        <h3 ng-show="{{counter < 1}}" class="modal-title">Sınav süreniz doldu</h3>
                    </div>
                    <div class="modal-body">
                        <h4 ng-hide="accept">Sınavı bitirmek istediğinize emin misiniz?</h4>
                        <div ng-show="accept">
                          <h4>Doğru Sayısı : {{correct}}</h4>
                          <h4>Yanlış Sayısı : {{answered - correct }}</h4>
                          <h4>Boş Sayısı : {{questions.length - answered}}</h4>
                          <hr>
                          <h4>Sonuç/Puan : {{(100/questions.length)*correct}} </h4>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button ng-hide="accept"class="btn btn-primary" ng-click="ok()">Kabul Et</button>
                        <button ng-hide="accept" class="btn btn-warning" ng-click="cancel()">İptal</button>
                        <button ng-show="accept" class="btn btn-warning" ng-click="cancel()">Sınavı Tekrarla</button>
                    </div>
                  </script> <!--modal-->                 
                  <button type="button" class="btn btn-danger" ng-click="end()"><span class="glyphicon glyphicon-ok"></span> Sınavı Bitir</button>
                </div>
              </div>
            </div>
  
            <!--Sınav Durumu  -->
            <div class="col-md-3">
              <div class="panel panel-default">
                <div class="panel-heading">Sınav Durumu</div>
                <div class="panel-body">
                  <div class="progress">
                    <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: {{(100/questions.length)*answered()}}%">
                      <p class="text-danger">%{{(100/questions.length)*answered()}}</p>
                    </div>
                  </div>
                  <button class="btn btn-primary" type="button">
                    Toplam Soru Sayısı <span class="badge">{{questions.length}}</span>
                  </button>
                  <button class="btn btn-success" type="button">
                    Cevaplanmış Soru Sayısı <span class="badge">{{answered()}}</span>
                  </button>
                  <button class="btn btn-warning" type="button">
                    Boş Soru Sayısı <span class="badge">{{questions.length - answered()}}</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
  
        </div>
        <!-- /container -->
      </div>
    </div>
  </body>
</html>
